I"„œ<p>Format a string into a url and translate any characters based on a conversion table</p>

<h4 id="urlformatter">UrlFormatter</h4>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="kn">namespace</span> <span class="nn">AppBundle\Formatter</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">UrlFormatter</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="k">const</span> <span class="no">PATTERN</span> <span class="o">=</span> <span class="s1">'#[^0-9a-z]+#i'</span><span class="p">;</span>
    
    <span class="k">public</span> <span class="k">function</span> <span class="nf">format</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$text</span><span class="p">)</span> <span class="o">:</span><span class="nx">string</span>
    <span class="p">{</span>
        <span class="nv">$url</span> <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="na">PATTERN</span><span class="p">,</span> <span class="s1">'-'</span><span class="p">,</span> <span class="nb">strtr</span><span class="p">(</span><span class="nv">$text</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getConversionTable</span><span class="p">()));</span>
        <span class="nv">$url</span> <span class="o">=</span> <span class="nb">strtolower</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
        <span class="k">return</span> <span class="nb">trim</span><span class="p">(</span><span class="nv">$url</span><span class="p">,</span> <span class="s1">'-'</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">function</span> <span class="nf">getConversionTable</span><span class="p">()</span><span class="o">:</span> <span class="k">array</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="s1">'&amp;amp;'</span> <span class="o">=&gt;</span> <span class="s1">'and'</span><span class="p">,</span>
            <span class="s1">'@'</span> <span class="o">=&gt;</span> <span class="s1">'at'</span><span class="p">,</span>
            <span class="s1">'Â©'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'Â®'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'Ã€'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ã'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ã‚'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ã„'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ã…'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ã†'</span> <span class="o">=&gt;</span> <span class="s1">'ae'</span><span class="p">,</span>
            <span class="s1">'Ã‡'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'Ãˆ'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ã‰'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ã‹'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'ÃŒ'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ã'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ã'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ã'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ã’'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ã“'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ã”'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ã•'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ã–'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ã˜'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ã™'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ãš'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ã›'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ãœ'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ã'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'ÃŸ'</span> <span class="o">=&gt;</span> <span class="s1">'ss'</span><span class="p">,</span>
            <span class="s1">'Ã '</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ã¡'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ã¢'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ã¤'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ã¥'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ã¦'</span> <span class="o">=&gt;</span> <span class="s1">'ae'</span><span class="p">,</span>
            <span class="s1">'Ã§'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'Ã¨'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ã©'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ãª'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ã«'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ã¬'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ã­'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ã®'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ã¯'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ã²'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ã³'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ã´'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ãµ'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ã¶'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ã¸'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ã¹'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ãº'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ã»'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ã¼'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ã½'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'Ã¾'</span> <span class="o">=&gt;</span> <span class="s1">'p'</span><span class="p">,</span>
            <span class="s1">'Ã¿'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'Ä€'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ä'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ä‚'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Äƒ'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ä„'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ä…'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ä†'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'Ä‡'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'Äˆ'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'Ä‰'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'ÄŠ'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'Ä‹'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'ÄŒ'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'Ä'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'Ä'</span> <span class="o">=&gt;</span> <span class="s1">'d'</span><span class="p">,</span>
            <span class="s1">'Ä'</span> <span class="o">=&gt;</span> <span class="s1">'d'</span><span class="p">,</span>
            <span class="s1">'Ä'</span> <span class="o">=&gt;</span> <span class="s1">'d'</span><span class="p">,</span>
            <span class="s1">'Ä‘'</span> <span class="o">=&gt;</span> <span class="s1">'d'</span><span class="p">,</span>
            <span class="s1">'Ä’'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ä“'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ä”'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ä•'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ä–'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ä—'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ä˜'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ä™'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Äš'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ä›'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Äœ'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'Ä'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'Ä'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'ÄŸ'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'Ä '</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'Ä¡'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'Ä¢'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'Ä£'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'Ä¤'</span> <span class="o">=&gt;</span> <span class="s1">'h'</span><span class="p">,</span>
            <span class="s1">'Ä¥'</span> <span class="o">=&gt;</span> <span class="s1">'h'</span><span class="p">,</span>
            <span class="s1">'Ä¦'</span> <span class="o">=&gt;</span> <span class="s1">'h'</span><span class="p">,</span>
            <span class="s1">'Ä§'</span> <span class="o">=&gt;</span> <span class="s1">'h'</span><span class="p">,</span>
            <span class="s1">'Ä¨'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ä©'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Äª'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ä«'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ä¬'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ä­'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ä®'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ä¯'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ä°'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ä±'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ä²'</span> <span class="o">=&gt;</span> <span class="s1">'ij'</span><span class="p">,</span>
            <span class="s1">'Ä³'</span> <span class="o">=&gt;</span> <span class="s1">'ij'</span><span class="p">,</span>
            <span class="s1">'Ä´'</span> <span class="o">=&gt;</span> <span class="s1">'j'</span><span class="p">,</span>
            <span class="s1">'Äµ'</span> <span class="o">=&gt;</span> <span class="s1">'j'</span><span class="p">,</span>
            <span class="s1">'Ä¶'</span> <span class="o">=&gt;</span> <span class="s1">'k'</span><span class="p">,</span>
            <span class="s1">'Ä·'</span> <span class="o">=&gt;</span> <span class="s1">'k'</span><span class="p">,</span>
            <span class="s1">'Ä¸'</span> <span class="o">=&gt;</span> <span class="s1">'k'</span><span class="p">,</span>
            <span class="s1">'Ä¹'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'Äº'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'Ä»'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'Ä¼'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'Ä½'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'Ä¾'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'Ä¿'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'Å€'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'Å'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'Å‚'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'Åƒ'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'Å„'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'Å…'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'Å†'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'Å‡'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'Åˆ'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'Å‰'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'ÅŠ'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'Å‹'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'ÅŒ'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Å'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Å'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Å'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Å'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Å‘'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Å’'</span> <span class="o">=&gt;</span> <span class="s1">'oe'</span><span class="p">,</span>
            <span class="s1">'Å“'</span> <span class="o">=&gt;</span> <span class="s1">'oe'</span><span class="p">,</span>
            <span class="s1">'Å”'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'Å•'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'Å–'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'Å—'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'Å˜'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'Å™'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'Åš'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'Å›'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'Åœ'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'Å'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'Å'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'ÅŸ'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'Å '</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'Å¡'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'Å¢'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'Å£'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'Å¤'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'Å¥'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'Å¦'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'Å§'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'Å¨'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Å©'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Åª'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Å«'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Å¬'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Å­'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Å®'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Å¯'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Å°'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Å±'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Å²'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Å³'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Å´'</span> <span class="o">=&gt;</span> <span class="s1">'w'</span><span class="p">,</span>
            <span class="s1">'Åµ'</span> <span class="o">=&gt;</span> <span class="s1">'w'</span><span class="p">,</span>
            <span class="s1">'Å¶'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'Å·'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'Å¸'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'Å¹'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'Åº'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'Å»'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'Å¼'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'Å½'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'Å¾'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'Å¿'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'Æ'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Æ’'</span> <span class="o">=&gt;</span> <span class="s1">'f'</span><span class="p">,</span>
            <span class="s1">'Æ '</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Æ¡'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Æ¯'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Æ°'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ç'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ç'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ç'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ç'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ç‘'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ç’'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ç“'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ç”'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ç•'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ç–'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ç—'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ç˜'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ç™'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Çš'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ç›'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Çœ'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Çº'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ç»'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ç¼'</span> <span class="o">=&gt;</span> <span class="s1">'ae'</span><span class="p">,</span>
            <span class="s1">'Ç½'</span> <span class="o">=&gt;</span> <span class="s1">'ae'</span><span class="p">,</span>
            <span class="s1">'Ç¾'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ç¿'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'É™'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ğ'</span> <span class="o">=&gt;</span> <span class="s1">'jo'</span><span class="p">,</span>
            <span class="s1">'Ğ„'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ğ†'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ğ‡'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ğ'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ğ‘'</span> <span class="o">=&gt;</span> <span class="s1">'b'</span><span class="p">,</span>
            <span class="s1">'Ğ’'</span> <span class="o">=&gt;</span> <span class="s1">'v'</span><span class="p">,</span>
            <span class="s1">'Ğ“'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'Ğ”'</span> <span class="o">=&gt;</span> <span class="s1">'d'</span><span class="p">,</span>
            <span class="s1">'Ğ•'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ğ–'</span> <span class="o">=&gt;</span> <span class="s1">'zh'</span><span class="p">,</span>
            <span class="s1">'Ğ—'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'Ğ˜'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ğ™'</span> <span class="o">=&gt;</span> <span class="s1">'j'</span><span class="p">,</span>
            <span class="s1">'Ğš'</span> <span class="o">=&gt;</span> <span class="s1">'k'</span><span class="p">,</span>
            <span class="s1">'Ğ›'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'Ğœ'</span> <span class="o">=&gt;</span> <span class="s1">'m'</span><span class="p">,</span>
            <span class="s1">'Ğ'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'Ğ'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'ĞŸ'</span> <span class="o">=&gt;</span> <span class="s1">'p'</span><span class="p">,</span>
            <span class="s1">'Ğ '</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'Ğ¡'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'Ğ¢'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'Ğ£'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ğ¤'</span> <span class="o">=&gt;</span> <span class="s1">'f'</span><span class="p">,</span>
            <span class="s1">'Ğ¥'</span> <span class="o">=&gt;</span> <span class="s1">'h'</span><span class="p">,</span>
            <span class="s1">'Ğ¦'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'Ğ§'</span> <span class="o">=&gt;</span> <span class="s1">'ch'</span><span class="p">,</span>
            <span class="s1">'Ğ¨'</span> <span class="o">=&gt;</span> <span class="s1">'sh'</span><span class="p">,</span>
            <span class="s1">'Ğ©'</span> <span class="o">=&gt;</span> <span class="s1">'sch'</span><span class="p">,</span>
            <span class="s1">'Ğª'</span> <span class="o">=&gt;</span> <span class="s1">'-'</span><span class="p">,</span>
            <span class="s1">'Ğ«'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'Ğ¬'</span> <span class="o">=&gt;</span> <span class="s1">'-'</span><span class="p">,</span>
            <span class="s1">'Ğ­'</span> <span class="o">=&gt;</span> <span class="s1">'je'</span><span class="p">,</span>
            <span class="s1">'Ğ®'</span> <span class="o">=&gt;</span> <span class="s1">'ju'</span><span class="p">,</span>
            <span class="s1">'Ğ¯'</span> <span class="o">=&gt;</span> <span class="s1">'ja'</span><span class="p">,</span>
            <span class="s1">'Ğ°'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'Ğ±'</span> <span class="o">=&gt;</span> <span class="s1">'b'</span><span class="p">,</span>
            <span class="s1">'Ğ²'</span> <span class="o">=&gt;</span> <span class="s1">'v'</span><span class="p">,</span>
            <span class="s1">'Ğ³'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'Ğ´'</span> <span class="o">=&gt;</span> <span class="s1">'d'</span><span class="p">,</span>
            <span class="s1">'Ğµ'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ğ¶'</span> <span class="o">=&gt;</span> <span class="s1">'zh'</span><span class="p">,</span>
            <span class="s1">'Ğ·'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'Ğ¸'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ğ¹'</span> <span class="o">=&gt;</span> <span class="s1">'j'</span><span class="p">,</span>
            <span class="s1">'Ğº'</span> <span class="o">=&gt;</span> <span class="s1">'k'</span><span class="p">,</span>
            <span class="s1">'Ğ»'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'Ğ¼'</span> <span class="o">=&gt;</span> <span class="s1">'m'</span><span class="p">,</span>
            <span class="s1">'Ğ½'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'Ğ¾'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'Ğ¿'</span> <span class="o">=&gt;</span> <span class="s1">'p'</span><span class="p">,</span>
            <span class="s1">'Ñ€'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'Ñ'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'Ñ‚'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'Ñƒ'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'Ñ„'</span> <span class="o">=&gt;</span> <span class="s1">'f'</span><span class="p">,</span>
            <span class="s1">'Ñ…'</span> <span class="o">=&gt;</span> <span class="s1">'h'</span><span class="p">,</span>
            <span class="s1">'Ñ†'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'Ñ‡'</span> <span class="o">=&gt;</span> <span class="s1">'ch'</span><span class="p">,</span>
            <span class="s1">'Ñˆ'</span> <span class="o">=&gt;</span> <span class="s1">'sh'</span><span class="p">,</span>
            <span class="s1">'Ñ‰'</span> <span class="o">=&gt;</span> <span class="s1">'sch'</span><span class="p">,</span>
            <span class="s1">'ÑŠ'</span> <span class="o">=&gt;</span> <span class="s1">'-'</span><span class="p">,</span>
            <span class="s1">'Ñ‹'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'ÑŒ'</span> <span class="o">=&gt;</span> <span class="s1">'-'</span><span class="p">,</span>
            <span class="s1">'Ñ'</span> <span class="o">=&gt;</span> <span class="s1">'je'</span><span class="p">,</span>
            <span class="s1">'Ñ'</span> <span class="o">=&gt;</span> <span class="s1">'ju'</span><span class="p">,</span>
            <span class="s1">'Ñ'</span> <span class="o">=&gt;</span> <span class="s1">'ja'</span><span class="p">,</span>
            <span class="s1">'Ñ‘'</span> <span class="o">=&gt;</span> <span class="s1">'jo'</span><span class="p">,</span>
            <span class="s1">'Ñ”'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'Ñ–'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ñ—'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'Ò'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'Ò‘'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'â„¢'</span> <span class="o">=&gt;</span> <span class="s1">'tm'</span><span class="p">,</span>
        <span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h3 id="urlformattertest">UrlFormatterTest</h3>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="kn">namespace</span> <span class="nn">Tests\AppBundle\Helper</span><span class="p">;</span>

<span class="kn">use</span> <span class="nn">AppBundle\Helper\UrlHelper</span><span class="p">;</span>
<span class="kn">use</span> <span class="nn">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">UrlHelperTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="cd">/**
     * @dataProvider formatProvider
     * @param string $text
     * @param string $formatted
     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testShouldFormatUrl</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$text</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$formatted</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="nv">$formatted</span><span class="p">,</span> <span class="p">(</span><span class="k">new</span> <span class="nx">UrlHelper</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">format</span><span class="p">(</span><span class="nv">$text</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">formatProvider</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">[</span><span class="s1">'ZwÃ¶lf SchrubbbÃ¼rste'</span><span class="p">,</span> <span class="s1">'zwolf-schrubbburste'</span><span class="p">],</span>
            <span class="p">[</span><span class="s1">' &amp;amp;&amp;amp; '</span><span class="p">,</span> <span class="s1">'andand'</span><span class="p">],</span>
            <span class="p">[</span><span class="s1">' '</span><span class="p">,</span> <span class="s1">''</span><span class="p">]</span>
        <span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>
:ET