I"Ñú<p>Format a string into a url and translate any characters based on a conversion table</p>

<h4 id="urlformatter">UrlFormatter</h4>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="kn">namespace</span> <span class="nn">AppBundle\Formatter</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">UrlFormatter</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="k">const</span> <span class="no">PATTERN</span> <span class="o">=</span> <span class="s1">'#[^0-9a-z]+#i'</span><span class="p">;</span>
    
    <span class="k">public</span> <span class="k">function</span> <span class="nf">format</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$text</span><span class="p">)</span> <span class="o">:</span><span class="nx">string</span>
    <span class="p">{</span>
        <span class="nv">$url</span> <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="na">PATTERN</span><span class="p">,</span> <span class="s1">'-'</span><span class="p">,</span> <span class="nb">strtr</span><span class="p">(</span><span class="nv">$text</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getConversionTable</span><span class="p">()));</span>
        <span class="nv">$url</span> <span class="o">=</span> <span class="nb">strtolower</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
        <span class="k">return</span> <span class="nb">trim</span><span class="p">(</span><span class="nv">$url</span><span class="p">,</span> <span class="s1">'-'</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">function</span> <span class="nf">getConversionTable</span><span class="p">()</span><span class="o">:</span> <span class="k">array</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="s1">'&amp;amp;'</span> <span class="o">=&gt;</span> <span class="s1">'and'</span><span class="p">,</span>
            <span class="s1">'@'</span> <span class="o">=&gt;</span> <span class="s1">'at'</span><span class="p">,</span>
            <span class="s1">'¬©'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'¬Æ'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'√Ä'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'√Å'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'√Ç'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'√Ñ'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'√Ö'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'√Ü'</span> <span class="o">=&gt;</span> <span class="s1">'ae'</span><span class="p">,</span>
            <span class="s1">'√á'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'√à'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'√â'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'√ã'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'√å'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'√ç'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'√é'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'√è'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'√í'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'√ì'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'√î'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'√ï'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'√ñ'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'√ò'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'√ô'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'√ö'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'√õ'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'√ú'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'√ù'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'√ü'</span> <span class="o">=&gt;</span> <span class="s1">'ss'</span><span class="p">,</span>
            <span class="s1">'√†'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'√°'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'√¢'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'√§'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'√•'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'√¶'</span> <span class="o">=&gt;</span> <span class="s1">'ae'</span><span class="p">,</span>
            <span class="s1">'√ß'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'√®'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'√©'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'√™'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'√´'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'√¨'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'√≠'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'√Æ'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'√Ø'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'√≤'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'√≥'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'√¥'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'√µ'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'√∂'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'√∏'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'√π'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'√∫'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'√ª'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'√º'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'√Ω'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'√æ'</span> <span class="o">=&gt;</span> <span class="s1">'p'</span><span class="p">,</span>
            <span class="s1">'√ø'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'ƒÄ'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'ƒÅ'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'ƒÇ'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'ƒÉ'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'ƒÑ'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'ƒÖ'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'ƒÜ'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'ƒá'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'ƒà'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'ƒâ'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'ƒä'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'ƒã'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'ƒå'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'ƒç'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'ƒé'</span> <span class="o">=&gt;</span> <span class="s1">'d'</span><span class="p">,</span>
            <span class="s1">'ƒè'</span> <span class="o">=&gt;</span> <span class="s1">'d'</span><span class="p">,</span>
            <span class="s1">'ƒê'</span> <span class="o">=&gt;</span> <span class="s1">'d'</span><span class="p">,</span>
            <span class="s1">'ƒë'</span> <span class="o">=&gt;</span> <span class="s1">'d'</span><span class="p">,</span>
            <span class="s1">'ƒí'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'ƒì'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'ƒî'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'ƒï'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'ƒñ'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'ƒó'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'ƒò'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'ƒô'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'ƒö'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'ƒõ'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'ƒú'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'ƒù'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'ƒû'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'ƒü'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'ƒ†'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'ƒ°'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'ƒ¢'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'ƒ£'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'ƒ§'</span> <span class="o">=&gt;</span> <span class="s1">'h'</span><span class="p">,</span>
            <span class="s1">'ƒ•'</span> <span class="o">=&gt;</span> <span class="s1">'h'</span><span class="p">,</span>
            <span class="s1">'ƒ¶'</span> <span class="o">=&gt;</span> <span class="s1">'h'</span><span class="p">,</span>
            <span class="s1">'ƒß'</span> <span class="o">=&gt;</span> <span class="s1">'h'</span><span class="p">,</span>
            <span class="s1">'ƒ®'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'ƒ©'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'ƒ™'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'ƒ´'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'ƒ¨'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'ƒ≠'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'ƒÆ'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'ƒØ'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'ƒ∞'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'ƒ±'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'ƒ≤'</span> <span class="o">=&gt;</span> <span class="s1">'ij'</span><span class="p">,</span>
            <span class="s1">'ƒ≥'</span> <span class="o">=&gt;</span> <span class="s1">'ij'</span><span class="p">,</span>
            <span class="s1">'ƒ¥'</span> <span class="o">=&gt;</span> <span class="s1">'j'</span><span class="p">,</span>
            <span class="s1">'ƒµ'</span> <span class="o">=&gt;</span> <span class="s1">'j'</span><span class="p">,</span>
            <span class="s1">'ƒ∂'</span> <span class="o">=&gt;</span> <span class="s1">'k'</span><span class="p">,</span>
            <span class="s1">'ƒ∑'</span> <span class="o">=&gt;</span> <span class="s1">'k'</span><span class="p">,</span>
            <span class="s1">'ƒ∏'</span> <span class="o">=&gt;</span> <span class="s1">'k'</span><span class="p">,</span>
            <span class="s1">'ƒπ'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'ƒ∫'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'ƒª'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'ƒº'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'ƒΩ'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'ƒæ'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'ƒø'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'≈Ä'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'≈Å'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'≈Ç'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'≈É'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'≈Ñ'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'≈Ö'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'≈Ü'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'≈á'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'≈à'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'≈â'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'≈ä'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'≈ã'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'≈å'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'≈ç'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'≈é'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'≈è'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'≈ê'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'≈ë'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'≈í'</span> <span class="o">=&gt;</span> <span class="s1">'oe'</span><span class="p">,</span>
            <span class="s1">'≈ì'</span> <span class="o">=&gt;</span> <span class="s1">'oe'</span><span class="p">,</span>
            <span class="s1">'≈î'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'≈ï'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'≈ñ'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'≈ó'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'≈ò'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'≈ô'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'≈ö'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'≈õ'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'≈ú'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'≈ù'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'≈û'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'≈ü'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'≈†'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'≈°'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'≈¢'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'≈£'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'≈§'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'≈•'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'≈¶'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'≈ß'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'≈®'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'≈©'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'≈™'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'≈´'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'≈¨'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'≈≠'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'≈Æ'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'≈Ø'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'≈∞'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'≈±'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'≈≤'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'≈≥'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'≈¥'</span> <span class="o">=&gt;</span> <span class="s1">'w'</span><span class="p">,</span>
            <span class="s1">'≈µ'</span> <span class="o">=&gt;</span> <span class="s1">'w'</span><span class="p">,</span>
            <span class="s1">'≈∂'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'≈∑'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'≈∏'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'≈π'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'≈∫'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'≈ª'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'≈º'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'≈Ω'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'≈æ'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'≈ø'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'∆è'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'∆í'</span> <span class="o">=&gt;</span> <span class="s1">'f'</span><span class="p">,</span>
            <span class="s1">'∆†'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'∆°'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'∆Ø'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'∆∞'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'«ç'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'«é'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'«è'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'«ê'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'«ë'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'«í'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'«ì'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'«î'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'«ï'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'«ñ'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'«ó'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'«ò'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'«ô'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'«ö'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'«õ'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'«ú'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'«∫'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'«ª'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'«º'</span> <span class="o">=&gt;</span> <span class="s1">'ae'</span><span class="p">,</span>
            <span class="s1">'«Ω'</span> <span class="o">=&gt;</span> <span class="s1">'ae'</span><span class="p">,</span>
            <span class="s1">'«æ'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'«ø'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'…ô'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'–Å'</span> <span class="o">=&gt;</span> <span class="s1">'jo'</span><span class="p">,</span>
            <span class="s1">'–Ñ'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'–Ü'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'–á'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'–ê'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'–ë'</span> <span class="o">=&gt;</span> <span class="s1">'b'</span><span class="p">,</span>
            <span class="s1">'–í'</span> <span class="o">=&gt;</span> <span class="s1">'v'</span><span class="p">,</span>
            <span class="s1">'–ì'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'–î'</span> <span class="o">=&gt;</span> <span class="s1">'d'</span><span class="p">,</span>
            <span class="s1">'–ï'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'–ñ'</span> <span class="o">=&gt;</span> <span class="s1">'zh'</span><span class="p">,</span>
            <span class="s1">'–ó'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'–ò'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'–ô'</span> <span class="o">=&gt;</span> <span class="s1">'j'</span><span class="p">,</span>
            <span class="s1">'–ö'</span> <span class="o">=&gt;</span> <span class="s1">'k'</span><span class="p">,</span>
            <span class="s1">'–õ'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'–ú'</span> <span class="o">=&gt;</span> <span class="s1">'m'</span><span class="p">,</span>
            <span class="s1">'–ù'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'–û'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'–ü'</span> <span class="o">=&gt;</span> <span class="s1">'p'</span><span class="p">,</span>
            <span class="s1">'–†'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'–°'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'–¢'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'–£'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'–§'</span> <span class="o">=&gt;</span> <span class="s1">'f'</span><span class="p">,</span>
            <span class="s1">'–•'</span> <span class="o">=&gt;</span> <span class="s1">'h'</span><span class="p">,</span>
            <span class="s1">'–¶'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'–ß'</span> <span class="o">=&gt;</span> <span class="s1">'ch'</span><span class="p">,</span>
            <span class="s1">'–®'</span> <span class="o">=&gt;</span> <span class="s1">'sh'</span><span class="p">,</span>
            <span class="s1">'–©'</span> <span class="o">=&gt;</span> <span class="s1">'sch'</span><span class="p">,</span>
            <span class="s1">'–™'</span> <span class="o">=&gt;</span> <span class="s1">'-'</span><span class="p">,</span>
            <span class="s1">'–´'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'–¨'</span> <span class="o">=&gt;</span> <span class="s1">'-'</span><span class="p">,</span>
            <span class="s1">'–≠'</span> <span class="o">=&gt;</span> <span class="s1">'je'</span><span class="p">,</span>
            <span class="s1">'–Æ'</span> <span class="o">=&gt;</span> <span class="s1">'ju'</span><span class="p">,</span>
            <span class="s1">'–Ø'</span> <span class="o">=&gt;</span> <span class="s1">'ja'</span><span class="p">,</span>
            <span class="s1">'–∞'</span> <span class="o">=&gt;</span> <span class="s1">'a'</span><span class="p">,</span>
            <span class="s1">'–±'</span> <span class="o">=&gt;</span> <span class="s1">'b'</span><span class="p">,</span>
            <span class="s1">'–≤'</span> <span class="o">=&gt;</span> <span class="s1">'v'</span><span class="p">,</span>
            <span class="s1">'–≥'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'–¥'</span> <span class="o">=&gt;</span> <span class="s1">'d'</span><span class="p">,</span>
            <span class="s1">'–µ'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'–∂'</span> <span class="o">=&gt;</span> <span class="s1">'zh'</span><span class="p">,</span>
            <span class="s1">'–∑'</span> <span class="o">=&gt;</span> <span class="s1">'z'</span><span class="p">,</span>
            <span class="s1">'–∏'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'–π'</span> <span class="o">=&gt;</span> <span class="s1">'j'</span><span class="p">,</span>
            <span class="s1">'–∫'</span> <span class="o">=&gt;</span> <span class="s1">'k'</span><span class="p">,</span>
            <span class="s1">'–ª'</span> <span class="o">=&gt;</span> <span class="s1">'l'</span><span class="p">,</span>
            <span class="s1">'–º'</span> <span class="o">=&gt;</span> <span class="s1">'m'</span><span class="p">,</span>
            <span class="s1">'–Ω'</span> <span class="o">=&gt;</span> <span class="s1">'n'</span><span class="p">,</span>
            <span class="s1">'–æ'</span> <span class="o">=&gt;</span> <span class="s1">'o'</span><span class="p">,</span>
            <span class="s1">'–ø'</span> <span class="o">=&gt;</span> <span class="s1">'p'</span><span class="p">,</span>
            <span class="s1">'—Ä'</span> <span class="o">=&gt;</span> <span class="s1">'r'</span><span class="p">,</span>
            <span class="s1">'—Å'</span> <span class="o">=&gt;</span> <span class="s1">'s'</span><span class="p">,</span>
            <span class="s1">'—Ç'</span> <span class="o">=&gt;</span> <span class="s1">'t'</span><span class="p">,</span>
            <span class="s1">'—É'</span> <span class="o">=&gt;</span> <span class="s1">'u'</span><span class="p">,</span>
            <span class="s1">'—Ñ'</span> <span class="o">=&gt;</span> <span class="s1">'f'</span><span class="p">,</span>
            <span class="s1">'—Ö'</span> <span class="o">=&gt;</span> <span class="s1">'h'</span><span class="p">,</span>
            <span class="s1">'—Ü'</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">,</span>
            <span class="s1">'—á'</span> <span class="o">=&gt;</span> <span class="s1">'ch'</span><span class="p">,</span>
            <span class="s1">'—à'</span> <span class="o">=&gt;</span> <span class="s1">'sh'</span><span class="p">,</span>
            <span class="s1">'—â'</span> <span class="o">=&gt;</span> <span class="s1">'sch'</span><span class="p">,</span>
            <span class="s1">'—ä'</span> <span class="o">=&gt;</span> <span class="s1">'-'</span><span class="p">,</span>
            <span class="s1">'—ã'</span> <span class="o">=&gt;</span> <span class="s1">'y'</span><span class="p">,</span>
            <span class="s1">'—å'</span> <span class="o">=&gt;</span> <span class="s1">'-'</span><span class="p">,</span>
            <span class="s1">'—ç'</span> <span class="o">=&gt;</span> <span class="s1">'je'</span><span class="p">,</span>
            <span class="s1">'—é'</span> <span class="o">=&gt;</span> <span class="s1">'ju'</span><span class="p">,</span>
            <span class="s1">'—è'</span> <span class="o">=&gt;</span> <span class="s1">'ja'</span><span class="p">,</span>
            <span class="s1">'—ë'</span> <span class="o">=&gt;</span> <span class="s1">'jo'</span><span class="p">,</span>
            <span class="s1">'—î'</span> <span class="o">=&gt;</span> <span class="s1">'e'</span><span class="p">,</span>
            <span class="s1">'—ñ'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'—ó'</span> <span class="o">=&gt;</span> <span class="s1">'i'</span><span class="p">,</span>
            <span class="s1">'“ê'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'“ë'</span> <span class="o">=&gt;</span> <span class="s1">'g'</span><span class="p">,</span>
            <span class="s1">'‚Ñ¢'</span> <span class="o">=&gt;</span> <span class="s1">'tm'</span><span class="p">,</span>
        <span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h3 id="urlformattertest">UrlFormatterTest</h3>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="kn">namespace</span> <span class="nn">Tests\AppBundle\Helper</span><span class="p">;</span>

<span class="kn">use</span> <span class="nn">AppBundle\Helper\UrlHelper</span><span class="p">;</span>
<span class="kn">use</span> <span class="nn">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">UrlHelperTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="cd">/**
     * @dataProvider formatProvider
     * @param string $text
     * @param string $formatted
     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testShouldFormatUrl</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$text</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$formatted</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="nv">$formatted</span><span class="p">,</span> <span class="p">(</span><span class="k">new</span> <span class="nx">UrlHelper</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">format</span><span class="p">(</span><span class="nv">$text</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">formatProvider</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">[</span><span class="s1">'Zw√∂lf Schrubbb√ºrste'</span><span class="p">,</span> <span class="s1">'zwolf-schrubbburste'</span><span class="p">],</span>
            <span class="p">[</span><span class="s1">' &amp;amp;&amp;amp; '</span><span class="p">,</span> <span class="s1">'andand'</span><span class="p">],</span>
            <span class="p">[</span><span class="s1">' '</span><span class="p">,</span> <span class="s1">''</span><span class="p">]</span>
        <span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>
:ET